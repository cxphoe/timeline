!function(o){function t(t){for(var e,n,r=t[0],a=t[1],s=t[2],i=0,u=[];i<r.length;i++)n=r[i],Object.prototype.hasOwnProperty.call(l,n)&&l[n]&&u.push(l[n][0]),l[n]=0;for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(o[e]=a[e]);for(p&&p(t);u.length;)u.shift()();return d.push.apply(d,s||[]),c()}function c(){for(var t,e=0;e<d.length;e++){for(var n=d[e],r=!0,a=1;a<n.length;a++){var s=n[a];0!==l[s]&&(r=!1)}r&&(d.splice(e--,1),t=i(i.s=n[0]))}return t}var n={},l={0:0},d=[];function i(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=o,i.c=n,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="./";var e=(r=window.webpackJsonp=window.webpackJsonp||[]).push.bind(r);r.push=t;for(var r=r.slice(),a=0;a<r.length;a++)t(r[a]);var p=e;d.push([15,1]),c()}({15:function(t,e,n){t.exports=n(16)},16:function(t,e,n){"use strict";n(17);var r,a=n(18);((r=a)&&r.__esModule?r:{"default":r})["default"]["new"]().attach(document.body)},17:function(t,e,n){},18:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.__esModule=!0,n(19),n(32),n(33),n(42),n(43),n(44);n=function(){function t(){var n=this;r(this,"onTextareaChange",function(t){13===t.keyCode&&(t.preventDefault(),0!==(t=t.target).value.trim().length&&(n.createItem(t.value),t.value=""))}),r(this,"pause",function(){var t,e;n.currentItem&&(t=Date.now(),(e=n.currentItem.timeRanges)[e.length-1].end=t),n.updateStatus(!1)}),r(this,"start",function(){var t;n.currentItem&&(t=Date.now(),n.currentItem.timeRanges.push({start:t})),n.updateStatus(!0)}),r(this,"finish",function(){var t,e;n.currentItem&&(t=Date.now(),(e=n.currentItem.timeRanges)[e.length-1].end=t,n.savedItems.push(n.currentItem),n.currentItem=null,n.update()),n.updateStatus(!1)}),this.currentItem=null,this.savedItems=[],this.elt=null,this.running=!0,this.updateStatus()}t["new"]=function(){return new this};var e=t.prototype;return e.createItem=function(t){var e,n,r=Date.now();this.currentItem&&((n=(e=this.currentItem).timeRanges[e.timeRanges.length-1]).end||(n.end=r),this.savedItems.push(e)),console.log(this.savedItems,this.currentItem),this.currentItem={text:t,timeRanges:[{start:r}]},this.updateStatus(!0),this.update()},e.update=function(){var t=this.elt.querySelector(".item-list"),r=function r(t,e,n){for(void 0===n&&(n="0"),t=String(t);t.length<e;)t=n+t;return t},i=function i(t){t=new Date(t);return r(t.getHours(),2)+":"+r(t.getMinutes(),2)},u=function u(t){var e=t.timeRanges.map(function(t){var e=i(t.start)+"~";return t.end&&(e+=""+i(t.end)),"<div>"+e+"</div>"}).join(""),n=0;t.timeRanges.forEach(function(t){t.start&&t.end&&(n+=t.end-t.start)});var r=Math.floor(n/1e3),a=Math.floor(r/60),s="";return a&&(s+=a+"m"),(r%=60)&&(s+=r+"s"),"\n        <div>\n          <span>"+e+"</span>\n          <span>"+s+"</span>\n          <span>"+t.text+"</span>\n        </div>\n      "},e="\n    <div>\n      <span>时间段</span>\n      <span>计时</span>\n      <span>描述</span>\n    </div>\n    "+this.savedItems.map(u).join("")+"\n    "+(this.currentItem?u(this.currentItem):"")+"\n    ";t.innerHTML=e},e.updateStatus=function(t){this.elt&&(this.elt.querySelector(".editor-status-text").innerHTML=t?"计时中...":"计时暂停"),this.running=t},e.attach=function(t){var e=document.createElement("div");e.id="app",e.innerHTML='\n      <div>\n        <div class="editor-status">状态: <span class="editor-status-text"></span></div>\n        <button class="btn-stop">暂停计时</button>\n        <button class="btn-start">开始计时</button>\n        <button class="btn-finish">结束当前任务</button>\n      </div>\n      <div class="content-area">\n        <textarea class="item-input"></textarea>\n        <div class="item-list">\n          <div>\n            <span>时间段</span>\n            <span>计时</span>\n            <span>描述</span>\n          </div>\n        </div>\n      </div>\n    ',e.querySelector(".item-input").addEventListener("keydown",this.onTextareaChange);var n=e.querySelector(".btn-stop"),r=e.querySelector(".btn-start"),a=e.querySelector(".btn-finish");n.addEventListener("click",this.pause),r.addEventListener("click",this.start),a.addEventListener("click",this.finish),t.appendChild(e),this.elt=e,this.updateStatus(!0)},t}();e["default"]=n},44:function(t,e,n){}});
//# sourceMappingURL=v1.js.map?v=aa86d7bd72